<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>패럴럭스 스크롤</title>
    <style>
        * {margin:0; padding:0}
        h1 {color:#fff; text-align: center; padding:30px; }
        body {height:400vh; background:url(img/bg.jpg) fixed center / cover;}
        img {position: fixed;width: 100px; left:20%; top:40%}
        img:nth-of-type(2) {left:50%;  top:20%; width:300px; }
        img:nth-of-type(3) {left:-50%; width:500px; top:80%}
        p {color:#fff; position: fixed; left:50%; top:50%; transform: translate(-50%, -50%); width:100%; text-align: center; font-weight: bold; font-size:40px; text-shadow: 0 0 10px rgba(0,0,0,.7);}
        p::after {content:""; border-right:1px solid #fff; animation:cursor linear infinite 1s }
        @keyframes cursor {
            0% {border-color:#fff}
            50% {border-color:#fff}
            50.001% {border-color:transparent;}
            100% {border-color:transparent}
        }
    </style>
</head>
<body>
<h1>패럴럭스(Parallax) 스크롤</h1>    
<img src="img/parallax1.png">
<img src="img/parallax2.png">
<img src="img/parallax3.png">
<p>시대를 앞서가는 개발자 홍길동입니다.</p>

<script>
    // 패럴럭스 기법
    var img = document.querySelectorAll("img");
    window.addEventListener("scroll", function(){
        // console.log(window.scrollY)
        var t = window.scrollY; // 세로 스크롤값 얻기
        img[0].style.marginTop = -t*0.1+"px";
        img[1].style.marginTop = -t*0.4+"px";
        img[2].style.marginTop = -t*1.8+"px";
    })

    // 타이핑 효과
    var p = document.querySelector("p");
    var txt = p.innerText;
    var count = 0; //글자 인덱스
    // alert(txt);
    p.innerText = "";
    setInterval(function(){
        count++;
        p.innerText = txt.substring(0,count);
        if(count > txt.length+30) { // 30 : 기다려주는 시간용도
            count = 0;
        }
    },100)
    
    
</script>
</body>
</html>